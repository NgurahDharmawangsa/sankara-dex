let c=$("#table-url").val();$("#table").DataTable({order:[[0,"desc"]],ordering:!0,serverSide:!0,processing:!0,autoWidth:!1,responsive:!0,ajax:{url:c},columns:[{data:"updated_at",name:"updated_at",className:"d-none"},{data:"DT_RowIndex",name:"DT_RowIndex",width:"40px",orderable:!1,searchable:!1},{data:"name",name:"name",orderable:!0,searchable:!0},{data:"is_active",name:"is_active",orderable:!1,searchable:!1},{data:"opsi",name:"opsi",width:"80px",orderable:!1,searchable:!1}],columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1},{responsivePriority:3,targets:2}]});$("#btn-add").click(function(){$("#modal-category").modal("show"),$(".modal-title").empty().append("Add Category"),o()});$("#form-category").submit(function(t){t.preventDefault();let e=$("#id").val(),a=new FormData(this),l="#btn-submit",i="#table",d="#form-category",n="#modal-category";if(e!=="")var r=$("#update-url").val();else var r=$("#create-url").val();ajaxPost(r,a,l).done(function(s){notifySuccess(s.message),reloadTable(i),$(n).modal("hide"),$(d)[0].reset()})});$("#table").on("click",".edit",function(){let t=$(this).data("id"),e=$("#edit-url").val();e=e.replace(":id",t),ajaxGet(e).done(function(a){$(".modal-title").empty().append("Edit Category"),$("#id").val(a.data.id),$("#name").val(a.data.name),$("#modal-category").modal("show"),o()})});$("#table").on("click",".delete",function(){let t=$(this).data("id"),e=$("#delete-url").val(),a="#table";ajaxDel(e,t,!1,"sweetSuccess",a)});$("#table").on("click",".change-status",function(){let t=$(this).data("id"),e=$("#change-status-url").val();e=e.replace(":id",t),Swal.fire({title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonColor:"#2d3192",confirmButtonText:"OK"}).then(a=>{a.value?new ajaxGet(e).done(function(l){new sweetSuccess(l.message),new reloadTable("#table")}):new reloadTable("#table")})});function o(){$(".form-control").removeClass("is-invalid"),$(".form-select").removeClass("is-invalid")}
